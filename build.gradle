allprojects {
    apply plugin: 'idea'
    apply plugin: 'groovy'
    apply plugin: 'maven'

    group               = 'com.goldin.teamcity'
    version             = '0.0.1-SNAPSHOT'
    sourceCompatibility = 1.6

    defaultTasks 'clean', 'build', 'install'
}


subprojects {
    groovyVersion = '1.8.0'

    repositories { mavenRepo urls: 'http://evgeny-goldin.org/artifactory/repo/'}
    dependencies { groovy "org.codehaus.groovy:groovy-all:$groovyVersion"      }


    ideaProject.javaVersion = '1.6.0_25'
    ideaModule {
        javaVersion     = ideaProject.javaVersion
        downloadSources = true
        downloadJavadoc = false
        outputDir       = new File( project.buildDir, 'idea' )
        testOutputDir   = new File( project.buildDir, 'idea/test' )
    }

    test {
        test.testReportDir    = new File(( File ) project.buildDir, 'test/reports' )
        test.testResultsDir   = new File(( File ) project.buildDir, 'test/results' )
    }
}